
<main class="container mt-4">
  <section class="row">
    <div class="col-md-6 d-flex align-items-center justify-content-center">
      <figure>
        <img src="../assets/moon.png" class="img-fluid rounded" alt="Imagem informativa sobre o formulário">
        <figcaption class="visually-hidden">Imagem representando a temática do formulário</figcaption>
      </figure>
    </div>

    <div class="col-md-6">
      <header>
        <h2 class="mb-4">Suas informações</h2>
      </header>

      <section aria-label="Formulário de informações do usuário">
        <form [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>
          <div class="row mb-3">
            <div class="col">
              <label for="nome" class="form-label">Nome</label>
              <input id="nome" type="text" class="form-control" formControlName="nome" placeholder="João da Silva"
                [ngClass]="{'is-valid': nome.valid && nome.touched, 'is-invalid': nome.invalid && nome.touched}" />
              @if (nome.invalid && nome.touched) {
              <div class="invalid-feedback">Nome obrigatório (máx. 35 caracteres).</div>
              }
            </div>
            <div class="col">
              <label for="email" class="form-label">Email</label>
              <input id="email" type="email" class="form-control" formControlName="email"
                placeholder="joaodasilva@example.com"
                [ngClass]="{'is-valid': email.valid && email.touched, 'is-invalid': email.invalid && email.touched}" />
              @if (email.invalid && email.touched) {
              <div class="invalid-feedback">Email inválido.</div>
              }
            </div>
          </div>

          <div class="row mb-3">
            <div class="col">
              <label for="estado" class="form-label">Estado</label>
              <select id="estado" class="form-select" formControlName="estado">
                <option selected value="">Selecione</option>
                @for (estado of estadosDisponiveis; track estado.sigla) {
                  <option [value]="estado.nome">{{ estado.nome }}</option>
                }
              </select>
              @if (estado.invalid && estado.touched) {
              <div class="invalid-feedback">Estado obrigatório.</div>
              }
            </div>
            <div class="col">
              <label for="cidade" class="form-label">Cidade</label>
              <select id="cidade" class="form-select" formControlName="cidade">
                <option selected value="">Selecione</option>
                @for (cidade of cidadesDisponiveis(); track cidade) {
                  <option [value]="cidade">{{ cidade }}</option>
                }
              </select>
              @if (cidade.invalid && cidade.touched) {
              <div class="invalid-feedback">Cidade obrigatória.</div>
              }
            </div>
          </div>

          <div class="mb-3">
            <label for="instituicao" class="form-label">Instituição</label>
            <input id="instituicao" type="text" class="form-control" placeholder="Nome da instituição"
              formControlName="instituicao"
              [ngClass]="{'is-valid': instituicao.valid && instituicao.touched, 'is-invalid': instituicao.invalid && instituicao.touched}">
            @if (instituicao.invalid && instituicao.touched) {
            <div class="invalid-feedback">Instituição é obrigatória.</div>
            }
          </div>

          <button class="btn btn-primary w-100" type="submit" [disabled]="form.invalid">Continuar</button>
        </form>
      </section>
    </div>
  </section>
</main>